"use strict";function postContent(){var a={restrict:"EA",controller:"PostDetailController"};return a}function postDetailController(a,b,c){c.file;b.getPost(c.file,function(b){a.postContent=b})}function mainContent(){var a={restrict:"EA",controller:"MainController"};return a}function mainController(a,b){console.log("Main"),b.getMain(function(b){a.mainContent=b})}function galleryContent(){console.log("hello, world2");var a={restrict:"EA",controller:"GalleryController"};return a}function galleryController(){console.log("gallery")}function parallaxContent(){var a={templateUrl:"components/parallax/parallax.html",restrict:"EA"};return a}function navBar(){var a={templateUrl:"shared/navigation/navigation.html",restrict:"EA"};return a}function activeTab(a){function b(b,c,d){b.$on("$routeChangeSuccess",function(){var b=d.detectActiveTab||1,e=a.path().split("/")[b]||"current $location.path doesn't reach this level",f=d.href.split("/")[b]||"href doesn't include this level";console.log("pathToCheck: "+e),console.log("tabLink: "+f),e===f?c.parent().addClass("active"):c.parent().removeClass("active")})}var c={link:b,restrict:"EA"};return c}function footer(){var a={templateUrl:"shared/footer/footer.html",restrict:"EA"};return a}angular.module("urizaAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","shared.navigation","angular-parallax"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"components/main/main.html",controller:"MainController"}).when("/gallery",{templateUrl:"components/gallery/gallery.html",controller:"GalleryController"}).when("/posts",{templateUrl:"views/post-list.html",controller:"PostListController",activeTab:"posts"}).when("/posts/:file",{templateUrl:"views/post-detail.html",controller:"PostDetailController",activeTab:"posts"}).otherwise({redirectTo:"/home"})}]),angular.module("shared.navigation",[]),angular.element(document).ready(function(){angular.bootstrap(angular.element("body"),["urizaAngularApp"])}),angular.module("urizaAngularApp").controller("ParallaxExampleCtrl",["$scope",function(){}]),angular.module("urizaAngularApp").controller("PostListController",["$scope","PostProcessor",function(a,b){b.getPosts(function(b){a.posts=b})}]),angular.module("urizaAngularApp").directive("postContent",[postContent]).controller("PostDetailController",["$scope","PostProcessor","$routeParams",postDetailController]),angular.module("urizaAngularApp").factory("PostProcessor",["$http",function(a){return{getPosts:function(b){a.get("posts/posts.json").success(b)},getPost:function(b,c){a.get("posts/files/"+b).success(c)},getMain:function(b){a.get("assets/content/main.md").success(b)}}}]),angular.module("urizaAngularApp").factory("StringUtils",function(){return{escapeRegExp:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},replaceAll:function(a,b,c){return a.replace(new RegExp(this.escapeRegExp(b),"g"),c)}}}),angular.module("urizaAngularApp").directive("fileDropzone",function(){return{restrict:"A",scope:{file:"=",fileName:"="},link:function(a,b,c){var d,e,f,g,h;return f=function(a){return null!==a&&a.preventDefault(),b.addClass("dropzone-hover"),!1},g=function(){return b.removeClass("dropzone-hover"),!0},h=c.fileDropzone,d=function(a){var b;return void 0===(b=c.maxFileSize)||""===b||a/1024/1024<c.maxFileSize?!0:(alert("File must be smaller than "+c.maxFileSize+" MB"),!1)},e=function(a){return void 0===h||""===h||h.indexOf(a)>-1?!0:(alert("Invalid file type.  File must be one of following types "+h),!1)},b.bind("dragover",f),b.bind("dragenter",f),b.bind("dragleave",g),b.bind("drop",function(c){var f,g,h,i,j;return null!==c&&c.preventDefault(),h=new FileReader,h.onload=function(b){return d(i)&&e(j)?a.$apply(function(){return a.file=b.target.result,angular.isString(a.fileName)?a.fileName=g:void 0}):void 0},f=c.originalEvent.dataTransfer.files[0],g=f.name,j=f.type,i=f.size,h.readAsDataURL(f),b.removeClass("dropzone-hover"),!1})}}}),angular.module("urizaAngularApp").directive("markdown",["$compile","$window",function(a,b){var c=b.marked,d=b.hljs,e=function(){c.setOptions({gfm:!0,pedantic:!1,sanitize:!0,highlight:function(a,b){var c;return c=void 0!==b?d.highlight(b,a).value:d.highlightAuto(a).value,"<hljs>"+c+"</hljs>"}});var a=function(a){return void 0===a?"":c(a)};return d.tabReplace="    ",{toHtml:a}}();return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.markdown,function(d){var f=d,g=e.toHtml(f);c.html(g),c.find("code").addClass("hljs"),a(c.contents())(b)})}}}]),angular.module("urizaAngularApp").directive("mainContent",["PostProcessor",mainContent]).controller("MainController",["$scope","PostProcessor",mainController]),angular.module("urizaAngularApp").directive("galleryContent",[galleryContent]).controller("GalleryController",[galleryController]),angular.module("urizaAngularApp").directive("parallaxContent",[parallaxContent]),angular.module("shared.navigation").directive("navBar",[navBar]),angular.module("shared.navigation").directive("activeTab",["$location",activeTab]),angular.module("shared.navigation").directive("footerNavigation",[footer]),$(window).bind("load",function(){$(".button-collapse").sideNav()});