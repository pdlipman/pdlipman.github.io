"use strict";angular.module("urizaAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainController",activeTab:"main"}).when("/gallery",{templateUrl:"views/gallery.html",controller:"GalleryController",activeTab:"gallery"}).when("/posts",{templateUrl:"views/post-list.html",controller:"PostListController",activeTab:"posts"}).when("/posts/:file",{templateUrl:"views/post-detail.html",controller:"PostDetailController",activeTab:"posts"}).otherwise({redirectTo:"/"})}]).directive("markdown",["$window",function(a){var b=a.marked,c=a.hljs,d=function(){b.setOptions({gfm:!0,pedantic:!1,sanitize:!0,highlight:function(a,b){if(void 0!=b)var d=c.highlight(b,a).value;else var d=c.highlightAuto(a).value;return"<hljs>"+d+"</hljs>"}});var a=function(a){return void 0==a?"":b(a)};return c.tabReplace="    ",{toHtml:a}}();return{restrict:"E",link:function(a,b){var c=b.text(),e=d.toHtml(c);b.html(e),b.find("code").addClass("hljs")}}}]),angular.module("urizaAngularApp").controller("MainController",[function(){}]),angular.module("urizaAngularApp").controller("GalleryController",["$scope","$http",function(a){a.image=null,a.imageFileName=""}]),angular.module("urizaAngularApp").controller("NavController",["$scope","$route",function(a,b){a.route=b}]),angular.module("urizaAngularApp").controller("PostListController",["$scope","PostProcessor",function(a,b){b.getPosts(function(b){a.posts=b})}]),angular.module("urizaAngularApp").controller("PostDetailController",["$scope","$routeParams",function(a,b){a.file=b.file}]),angular.module("urizaAngularApp").factory("PostProcessor",["$http",function(a){return{getPosts:function(b){a.get("posts/posts.json").success(b)}}}]),angular.module("urizaAngularApp").directive("fileDropzone",function(){return{restrict:"A",scope:{file:"=",fileName:"="},link:function(a,b,c){var d,e,f,g,h;return f=function(a){return null!==a&&a.preventDefault(),b.addClass("dropzone-hover"),!1},g=function(){return b.removeClass("dropzone-hover"),!0},h=c.fileDropzone,d=function(a){var b;return void 0===(b=c.maxFileSize)||""===b||a/1024/1024<c.maxFileSize?!0:(alert("File must be smaller than "+c.maxFileSize+" MB"),!1)},e=function(a){return void 0===h||""===h||h.indexOf(a)>-1?!0:(alert("Invalid file type.  File must be one of following types "+h),!1)},b.bind("dragover",f),b.bind("dragenter",f),b.bind("dragleave",g),b.bind("drop",function(c){var f,g,h,i,j;return null!==c&&c.preventDefault(),h=new FileReader,h.onload=function(b){return d(i)&&e(j)?a.$apply(function(){return a.file=b.target.result,angular.isString(a.fileName)?a.fileName=g:void 0}):void 0},f=c.originalEvent.dataTransfer.files[0],g=f.name,j=f.type,i=f.size,h.readAsDataURL(f),b.removeClass("dropzone-hover"),!1})}}});